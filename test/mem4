import AVFoundation

func extractAudioFromVideo(inputPath: String, outputPath: String) {
    let asset = AVAsset(url: URL(fileURLWithPath: inputPath))
    let exportSession = AVAssetExportSession(asset: asset, presetName: AVAssetExportPresetPassthrough)
    exportSession?.outputFileType = AVFileType.wav
    exportSession?.outputURL = URL(fileURLWithPath: outputPath)
    
    exportSession?.exportAsynchronously(completionHandler: {
        if exportSession?.status == .completed {
            print("Audio extraction completed.")
        } else if exportSession?.status == .failed {
            if let error = exportSession?.error {
                print("Audio extraction failed with error: \(error.localizedDescription)")
            }
        }
    })
}

// 使用示例
let inputFilePath = "path/to/input/video.mp4"
let outputFilePath = "path/to/output/audio.wav"

extractAudioFromVideo(inputPath: inputFilePath, outputPath: outputFilePath)
